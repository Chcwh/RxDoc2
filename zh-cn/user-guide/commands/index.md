# Commands

命令封装了响应某些用户操作的执行逻辑。比如说点击 **保存** 菜单，触摸手机图标，或拉伸图片。相应地，相关的逻辑可能是保存未完成的更改，启动电话或放大图像。

命令在指定条件下可以或不可以执行。比如**保存**菜单在没有未保存的更改时，就应该不可用。

在MVVM中，视图模型不关心用户如何执行特定命令 - 该决定留给视图。 但是通常情况下最好是将执行逻辑保留在视图模型中，这样就可以封装对视图模型状态的更改。 命令提高了**如何做**和**做什么**之间的距离。

如果你在 .NET 下做了 UI 开发，你可能对 [`ICommand` 接口](https://msdn.microsoft.com/en-us/library/system.windows.input.icommand.aspx) 比较熟悉。 这是一个可以用于所描述的目的的抽象。 其 `CanExecute` 方法可用于确定是否可以执行命令。 如果为真，就可以调用 `Execute` 方法。 `CanExecuteChanged` 事件可以由有关方使用，以知道命令的可执行性已经改变。 例如，绑定到特定 `ICommand` 的 `按钮` 将根据命令的可执行性来更新其启用状态。

但是 `ICommand` 接口不是一个理想的抽象。它不能优雅地适应长时间运行的命令，例如执行 I/O 的命令。 而且，它的界面是必不可少的，而不是响应式的。 这使得它远不如适用于反应式代码库。